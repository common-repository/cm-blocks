(()=>{"use strict";var e,l={333:(e,l,o)=>{const t=window.wp.blocks,n=window.wp.components,r=window.wp.blockEditor,i=window.wp.i18n,s=window.wp.element,c=window.wp.data,a=window.ReactJSXRuntime;function u({clientId:e,modalTile:l,blockTypes:o,closeModal:i}){const{replaceBlock:s}=(0,c.useDispatch)(r.store),u=(0,c.useSelect)((e=>e(r.store).getPatternsByBlockTypes(o)));return(0,a.jsx)(n.Modal,{onRequestClose:()=>{i()},title:l,overlayClassName:"block-library-query-pattern__selection-modal",isFullScreen:!0,className:"cmblocks-popup__modal",children:(0,a.jsx)(r.__experimentalBlockPatternsList,{blockPatterns:u,shownPatterns:u,onClickPattern:(l,o)=>{const n=o.map((e=>(0,t.cloneBlock)(e)));s(e,n)}})})}const C=window.wp.primitives,m=(0,a.jsx)(C.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(C.Path,{d:"M16.375 4.5H4.625a.125.125 0 0 0-.125.125v8.254l2.859-1.54a.75.75 0 0 1 .68-.016l2.384 1.142 2.89-2.074a.75.75 0 0 1 .874 0l2.313 1.66V4.625a.125.125 0 0 0-.125-.125Zm.125 9.398-2.75-1.975-2.813 2.02a.75.75 0 0 1-.76.067l-2.444-1.17L4.5 14.583v1.792c0 .069.056.125.125.125h11.75a.125.125 0 0 0 .125-.125v-2.477ZM4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625ZM20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z",fillRule:"evenodd",clipRule:"evenodd"})}),p=o.p+"images/counter-preview.baedfa45.jpg",d=JSON.parse('{"u2":"cmblocks/counter"}');(0,t.registerBlockType)(d.u2,{icon:{src:(0,a.jsx)(n.SVG,{className:"cm-blocks__icon",width:"20",height:"8",viewBox:"0 0 20 8",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(n.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M16.1634 2.84446C16.4517 3.02628 16.794 3.1179 17.1903 3.11932C17.5867 3.11932 17.9283 3.02912 18.2152 2.84872C18.5036 2.6669 18.7259 2.40483 18.8821 2.0625C19.0384 1.72017 19.1165 1.30824 19.1165 0.826705C19.1174 0.522201 19.0864 0.246722 19.0235 0.000270578C19.5649 0.0127528 20 0.455568 20 1V7C20 7.55228 19.5523 8 19 8H17.8338V3.9091H16.5611L15.3082 4.67473V5.84803L16.4219 5.18183H16.4517V8H14V1.39475e-05H13V8H7V1.39475e-05H6V8H1C0.447715 8 0 7.55228 0 7V1C0 0.447715 0.447715 0 1 0L15.3596 1.1903e-09C15.2969 0.246379 15.2651 0.521948 15.2642 0.826705C15.2628 1.3054 15.3402 1.71591 15.4965 2.05824C15.6527 2.40057 15.875 2.66264 16.1634 2.84446ZM16.6122 4.30961e-08C16.5339 0.202894 16.4937 0.478462 16.4915 0.826705C16.4901 1.1321 16.5192 1.38352 16.5788 1.58097C16.6385 1.77699 16.7209 1.92188 16.826 2.01562C16.9325 2.10938 17.054 2.15625 17.1903 2.15625C17.3949 2.15625 17.5625 2.04972 17.6932 1.83665C17.8253 1.62216 17.8906 1.28551 17.8892 0.826705C17.8892 0.526989 17.8594 0.28196 17.7997 0.0916195C17.7897 0.0596798 17.7791 0.0291399 17.7678 0L16.6122 4.30961e-08ZM2.99432 1.57672C3.24858 1.57672 3.48935 1.6172 3.71662 1.69817C3.94389 1.77771 4.14489 1.90342 4.3196 2.0753C4.49574 2.24717 4.63352 2.4716 4.73295 2.74859C4.83381 3.02416 4.88494 3.35797 4.88636 3.75001C4.88778 4.10797 4.84304 4.4297 4.75213 4.71521C4.66264 4.9993 4.53409 5.24149 4.36648 5.44178C4.20028 5.64206 4 5.79547 3.76563 5.902C3.53267 6.00712 3.27273 6.05967 2.9858 6.05967C2.66335 6.05967 2.37997 5.99788 2.13565 5.8743C1.89134 5.75072 1.69673 5.58453 1.55185 5.37572C1.40696 5.16692 1.32244 4.93467 1.2983 4.67899H2.46591C2.49432 4.81109 2.55682 4.90697 2.65341 4.96663C2.75 5.02487 2.8608 5.05399 2.9858 5.05399C3.2358 5.05399 3.41832 4.94604 3.53338 4.73013C3.64986 4.5128 3.70881 4.22303 3.71023 3.86081H3.68466C3.62926 3.99433 3.54545 4.10868 3.43324 4.20385C3.32102 4.29902 3.19034 4.37217 3.04119 4.42331C2.89205 4.47445 2.73438 4.50001 2.56818 4.50001C2.3054 4.50001 2.07528 4.44107 1.87784 4.32317C1.6804 4.20385 1.52628 4.04121 1.41548 3.83524C1.30469 3.62785 1.24858 3.39206 1.24716 3.12785C1.24574 2.8182 1.31889 2.54689 1.46662 2.31393C1.61435 2.08098 1.8196 1.89987 2.08239 1.77061C2.34517 1.64135 2.64915 1.57672 2.99432 1.57672ZM3.00284 2.4716C2.88494 2.4716 2.77983 2.49859 2.6875 2.55257C2.59659 2.60655 2.52486 2.6797 2.4723 2.77203C2.42116 2.86436 2.39631 2.96876 2.39773 3.08524C2.39915 3.20172 2.42543 3.30612 2.47656 3.39845C2.52912 3.49078 2.60014 3.56393 2.68963 3.61791C2.78054 3.67189 2.88494 3.69888 3.00284 3.69888C3.08949 3.69888 3.16974 3.68396 3.24361 3.65413C3.31747 3.62288 3.38139 3.57956 3.43537 3.52416C3.49077 3.46734 3.53338 3.402 3.56321 3.32814C3.59446 3.25285 3.60938 3.17189 3.60795 3.08524C3.60653 2.96876 3.57955 2.86436 3.52699 2.77203C3.47443 2.6797 3.4027 2.60655 3.31179 2.55257C3.22088 2.49859 3.1179 2.4716 3.00284 2.4716ZM8.28977 6.00001V5.14774L9.91761 3.80115C10.0256 3.71166 10.1179 3.62785 10.1946 3.54973C10.2727 3.47018 10.3324 3.38851 10.3736 3.3047C10.4162 3.22089 10.4375 3.12785 10.4375 3.02558C10.4375 2.91337 10.4133 2.81749 10.3651 2.73794C10.3182 2.65839 10.2528 2.59731 10.169 2.5547C10.0852 2.51067 9.98863 2.48865 9.87926 2.48865C9.76988 2.48865 9.67329 2.51067 9.58948 2.5547C9.5071 2.59874 9.44318 2.66337 9.39772 2.74859C9.35227 2.83382 9.32954 2.93751 9.32954 3.05967H8.20454C8.20454 2.75285 8.27343 2.48865 8.41122 2.26706C8.549 2.04547 8.7436 1.87501 8.99502 1.7557C9.24644 1.63638 9.54119 1.57672 9.87926 1.57672C10.2287 1.57672 10.5312 1.63283 10.7869 1.74504C11.044 1.85584 11.2422 2.01209 11.3814 2.21379C11.522 2.4155 11.5923 2.652 11.5923 2.92331C11.5923 3.09092 11.5575 3.25783 11.4879 3.42402C11.4183 3.58879 11.2933 3.77132 11.1129 3.9716C10.9325 4.17189 10.6761 4.41053 10.3437 4.68751L9.93465 5.02842V5.05399H11.6392V6.00001H8.28977Z"})})},edit:function({attributes:e,setAttributes:l,clientId:o}){const{showTitle:t,endValue:c,startValue:C,duration:d,prefix:_,suffix:b,wrapperBackgroundColor:x,titleColor:g,counterColor:h,prefixColor:f,suffixColor:k,separator:v,prefixRightPadding:j,suffixLeftPadding:w,counterFontSize:S,titleFontSize:y,counterAlignment:T,titleAlignment:P,startFromScratch:B,preview:z}=e;if(z)return(0,a.jsx)("div",{className:"cm-blocks-counter__preview",children:(0,a.jsx)("img",{src:p,alt:"Counter-preview"})});const[F,N]=(0,s.useState)(e.title),[V,O]=(0,s.useState)(!1),[H]=(0,r.useSettings)(["typography.fontSizes"]),R={background:x},A={color:g,fontSize:y,textAlign:P},L={justifyContent:T},M={color:h,fontSize:S},G={color:f,paddingRight:""!==_?`${j}px`:"0",fontSize:S},Z={color:k,paddingLeft:""!==b?`${w}px`:"0",fontSize:S},I=(0,r.useBlockProps)({className:"cmblocks-counter",style:{...R}}),$={role:"timer","aria-live":"polite","aria-label":(0,i.__)("Counter","cm-blocks")},[D,E]=(0,s.useState)(C),q=performance.now(),J=c.toString().split(".")[1]?.length||0;function U(e){const l=e-q,o=Math.min(1,l/d),t=parseFloat(C),n=t+o*(parseFloat(c)-t);let r;r=""!==v?n.toLocaleString("en-US",{minimumFractionDigits:J,maximumFractionDigits:J}).replace(/\,/g,v):n.toFixed(J),E(r),requestAnimationFrame(U)}return(0,s.useEffect)((()=>{requestAnimationFrame(U)}),[]),B?(0,a.jsxs)("div",{...I,...$,children:[(0,a.jsx)(r.InspectorControls,{group:"settings",title:(0,i.__)("Settings","cm-blocks"),children:(0,a.jsxs)(n.PanelBody,{title:(0,i.__)("Options","cm-blocks"),initialOpen:!0,children:[(0,a.jsxs)(n.Flex,{children:[(0,a.jsx)(n.FlexItem,{children:(0,a.jsx)(n.ToggleControl,{label:(0,i.__)("Show Title","cm-blocks"),onChange:e=>l({showTitle:e}),checked:t})}),(0,a.jsx)(n.FlexItem,{children:(0,a.jsx)(n.Button,{variant:"primary",onClick:()=>{E(C),requestAnimationFrame(U)},children:(0,i.__)("Preview","cm-blocks")})})]}),t&&(0,a.jsx)(n.TextControl,{label:(0,i.__)("Title","cm-blocks"),onChange:e=>{N(e),l({title:e})},value:F}),(0,a.jsx)(n.__experimentalNumberControl,{label:(0,i.__)("Start","cm-blocks"),value:C,onChange:e=>{l({startValue:""===e?0:e})}}),(0,a.jsx)(n.__experimentalNumberControl,{label:(0,i.__)("End","cm-blocks"),value:c,onChange:e=>{l({endValue:""===e?100:e})}}),(0,a.jsx)(n.__experimentalNumberControl,{label:(0,i.__)("Duration(in millisecond)","cm-blocks"),min:300,value:d,onChange:e=>{l({duration:""===e?1200:e})}}),(0,a.jsx)(n.TextControl,{label:(0,i.__)("Prefix","cm-blocks"),onChange:e=>{l({prefix:e})},value:_,help:(0,i.__)("Display before the number.","cm-blocks")}),(0,a.jsx)(n.TextControl,{label:(0,i.__)("Suffix","cm-blocks"),onChange:e=>{l({suffix:e})},value:b,help:(0,i.__)("Display after the number.","cm-blocks")}),(0,a.jsx)(n.SelectControl,{label:(0,i.__)("Thousand Separator","cm-blocks"),value:v,options:[{label:(0,i.__)("None","cm-blocks"),value:""},{label:(0,i.__)(",","cm-blocks"),value:","},{label:(0,i.__)(".","cm-blocks"),value:"."}],onChange:e=>l({separator:e}),help:(0,i.__)("Separate digits into groups of three","cm-blocks")})]})}),(0,a.jsxs)(r.InspectorControls,{group:"styles",title:(0,i.__)("Styles","cm-blocks"),children:[(0,a.jsx)(r.PanelColorSettings,{title:(0,i.__)("Color","cm-blocks"),colorSettings:[{value:e.wrapperBackgroundColor,onChange:e=>l({wrapperBackgroundColor:e}),label:(0,i.__)("Background","cm-blocks")},t&&{value:e.titleColor,onChange:e=>l({titleColor:e}),label:(0,i.__)("Title","cm-blocks")},{value:e.counterColor,onChange:e=>l({counterColor:e}),label:(0,i.__)("Counter","cm-blocks")},!!_&&{value:e.prefixColor,onChange:e=>l({prefixColor:e}),label:(0,i.__)("Prefix","cm-blocks")},!!b&&{value:e.suffixColor,onChange:e=>l({suffixColor:e}),label:(0,i.__)("Suffix","cm-blocks")}]}),(0,a.jsxs)(n.PanelBody,{children:[!!_&&(0,a.jsx)(n.RangeControl,{label:(0,i.__)("Prefix Gap","cm-blocks"),value:j,onChange:e=>l({prefixRightPadding:e})}),!!b&&(0,a.jsx)(n.RangeControl,{label:(0,i.__)("Suffix Gap","cm-blocks"),value:w,onChange:e=>l({suffixLeftPadding:e})})]}),(0,a.jsxs)(n.PanelBody,{title:(0,i.__)("Advanced Typography","cm-blocks"),initialOpen:!1,children:[(0,a.jsx)(n.BaseControl,{label:(0,i.__)("Counter Fontsize","cm-blocks"),children:(0,a.jsx)(n.FontSizePicker,{fontSizes:H.map((e=>({name:e.name,slug:e.slug,size:e.size}))),value:S,fallbackFontSize:12,onChange:e=>l({counterFontSize:e}),withSlider:!0})}),(0,a.jsx)(n.BaseControl,{label:(0,i.__)("Title Fontsize","cm-blocks"),children:(0,a.jsx)(n.FontSizePicker,{fontSizes:H.map((e=>({name:e.name,slug:e.slug,size:e.size}))),value:y,fallbackFontSize:12,onChange:e=>l({titleFontSize:e}),withSlider:!0})}),(0,a.jsxs)(n.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,isBlock:!0,label:(0,i.__)("Counter Alignment","cm-blocks"),value:T,onChange:e=>l({counterAlignment:e}),children:[(0,a.jsx)(n.__experimentalToggleGroupControlOption,{label:(0,i.__)("Left","cm-blocks"),value:"left"}),(0,a.jsx)(n.__experimentalToggleGroupControlOption,{label:(0,i.__)("Center","cm-blocks"),value:"center"}),(0,a.jsx)(n.__experimentalToggleGroupControlOption,{label:(0,i.__)("Right","cm-blocks"),value:"right"})]}),(0,a.jsxs)(n.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,isBlock:!0,label:(0,i.__)("Title Alignment","cm-blocks"),value:P,onChange:e=>l({titleAlignment:e}),children:[(0,a.jsx)(n.__experimentalToggleGroupControlOption,{label:(0,i.__)("Left","cm-blocks"),value:"left"}),(0,a.jsx)(n.__experimentalToggleGroupControlOption,{label:(0,i.__)("Center","cm-blocks"),value:"center"}),(0,a.jsx)(n.__experimentalToggleGroupControlOption,{label:(0,i.__)("Right","cm-blocks"),value:"right"})]})]})]}),(0,a.jsxs)("div",{className:"cmblocks-counter__wrapper",style:R,children:[(0,a.jsxs)("div",{className:"cmblocks-counter__main",style:L,children:[(0,a.jsx)("div",{className:"cmblocks-counter__prefix",style:G,children:_}),(0,a.jsx)("div",{className:"cmblocks-counter__counter",style:M,children:D}),(0,a.jsx)("div",{className:"cmblocks-counter__suffix",style:Z,children:b})]}),t&&(0,a.jsx)("div",{className:"cmblocks-counter__title",style:A,children:(0,a.jsx)(r.RichText,{onChange:e=>{N(e),l({title:e})},value:F})})]})]}):(0,a.jsxs)("div",{children:[V&&(0,a.jsx)(u,{clientId:o,blockTypes:"codemanas/cmblocks--counter",modalTile:(0,i.__)("CM Counter","cm-blocks"),closeModal:function(){O(!1)}}),(0,a.jsxs)(n.Placeholder,{icon:m,label:(0,i.__)("CM Counter","cm-blocks"),children:[(0,a.jsx)(n.Button,{variant:"primary",onClick:function(){O(!0)},children:(0,i.__)("Choose","cm-blocks")}),(0,a.jsx)(n.Button,{variant:"secondary",onClick:()=>{l({startFromScratch:!0})},children:(0,i.__)("Start from scratch","cm-blocks")})]})]})},save:function({attributes:e}){const{title:l,endValue:o,startValue:t,showTitle:n,prefix:s,suffix:c,wrapperBackgroundColor:u,titleColor:C,counterColor:m,prefixColor:p,suffixColor:d,prefixRightPadding:_,suffixLeftPadding:b,decimalPlaces:x,titleFontSize:g,counterFontSize:h,titleAlignment:f,counterAlignment:k}=e,v={background:u},j={color:C,fontSize:g,textAlign:f},w={justifyContent:k},S={color:m,fontSize:h,justifyContent:k},y={color:p,paddingRight:""!==s?`${_}px`:"0",fontSize:h},T={color:d,paddingLeft:""!==c?`${b}px`:"0",fontSize:h},P=r.useBlockProps.save({className:"cmblocks-counter",style:{...v}}),B={role:"timer","aria-live":"polite","aria-label":(0,i.__)("Counter","cm-blocks")};return(0,a.jsx)("div",{...P,...B,children:(0,a.jsxs)("div",{className:"cmblocks-counter__wrapper",style:v,"data-end-value":e.endValue,"data-start-value":e.startValue,"data-duration":e.duration,"data-separator":e.separator,children:[(0,a.jsxs)("div",{className:"cmblocks-counter__main",style:w,children:[(0,a.jsx)("div",{className:"cmblocks-counter__prefix",style:y,children:s}),(0,a.jsx)("div",{className:"cmblocks-counter__counter",style:S,children:t}),(0,a.jsx)("div",{className:"cmblocks-counter__suffix",style:T,children:c})]}),n&&(0,a.jsx)("div",{className:"cmblocks-counter__title",style:j,children:(0,a.jsx)(r.RichText.Content,{value:l})})]})})}})}},o={};function t(e){var n=o[e];if(void 0!==n)return n.exports;var r=o[e]={exports:{}};return l[e](r,r.exports,t),r.exports}t.m=l,e=[],t.O=(l,o,n,r)=>{if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],r=e[u][2];for(var s=!0,c=0;c<o.length;c++)(!1&r||i>=r)&&Object.keys(t.O).every((e=>t.O[e](o[c])))?o.splice(c--,1):(s=!1,r<i&&(i=r));if(s){e.splice(u--,1);var a=n();void 0!==a&&(l=a)}}return l}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,n,r]},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var l=t.g.document;if(!e&&l&&(l.currentScript&&(e=l.currentScript.src),!e)){var o=l.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&!e;)e=o[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../../"})(),(()=>{var e={676:0,810:0};t.O.j=l=>0===e[l];var l=(l,o)=>{var n,r,i=o[0],s=o[1],c=o[2],a=0;if(i.some((l=>0!==e[l]))){for(n in s)t.o(s,n)&&(t.m[n]=s[n]);if(c)var u=c(t)}for(l&&l(o);a<i.length;a++)r=i[a],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(u)},o=self.webpackChunkcm_blocks=self.webpackChunkcm_blocks||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))})();var n=t.O(void 0,[810],(()=>t(333)));n=t.O(n)})();